"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.configureProxy = void 0;
const utils_1 = require("./utils");
const configureProxy = (requestURL) => {
    const url = new URL(requestURL);
    const env = (0, utils_1.getProxyEnv)(url);
    // short circuit if null
    if (!env)
        return null;
    // parse proxy url
    const { hostname, port, protocol, username, password } = new URL(env);
    // return proxy object for axios request
    return {
        proxy: {
            protocol,
            hostname,
            port: parseInt(port),
            auth: {
                username,
                password,
            },
        },
    };
};
exports.configureProxy = configureProxy;
